{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
<br>
usuario - jugadas - ganadas - perdidas<br>
{% set topGamer = 0 %}
{% set topWinner = 0 %}
{% set userGamer = 0 %}
{% set userWinner = 0 %}

{% for user in users %}
    {% if user.games|length > topGamer %}
        {% set topGamer = user.games|length %}
        {% set userGamer = user %}
    {% endif %}
    {% if wins[user.id] > topWinner %}
        {% set topWinner = wins[user.id] %}
        {% set userWinner = user %}
    {% endif %}
    {{user.username}} - {{user.games|length}} - {{ wins[user.id] }} - {{user.games|length - wins[user.id]}} <br>
{% endfor %}
<br>
TopGamer: {{userGamer.username}}<br>
TopWinner: {{userWinner.username}}

</div>
{% endblock %}
